# =============================================================================
# EnterpriseGlue Backend Configuration
# Copy this file to .env and fill in your values
# =============================================================================

# Server Configuration
API_PORT=8787

# =============================================================================
# Database Configuration
# =============================================================================
# Supported: postgres, oracle, mssql, spanner, mysql
DATABASE_TYPE=postgres

# =============================================================================
# PostgreSQL Configuration (when DATABASE_TYPE=postgres)
# =============================================================================
# Works with: PostgreSQL, Amazon RDS for PostgreSQL, Amazon Aurora PostgreSQL
#
POSTGRES_HOST=your-postgres-host
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password
POSTGRES_DATABASE=postgres
POSTGRES_SCHEMA=main
POSTGRES_SSL=true

# =============================================================================
# Oracle Configuration (when DATABASE_TYPE=oracle)
# =============================================================================
# ORACLE_HOST=your-oracle-host
# ORACLE_PORT=1521
# ORACLE_USER=enterpriseglue
# ORACLE_PASSWORD=your-oracle-password
# ORACLE_SERVICE_NAME=XEPDB1
# ORACLE_SID=XE
# ORACLE_SCHEMA=MAIN
#
# Note: Oracle requires the oracledb npm package and Oracle Instant Client
# Install: npm install oracledb
# See: https://oracle.github.io/node-oracledb/INSTALL.html

# =============================================================================
# SQL Server Configuration (when DATABASE_TYPE=mssql)
# =============================================================================
# Works with: SQL Server (on-premises), Azure SQL Database, Azure SQL Managed Instance
#
# MSSQL_HOST=your-sqlserver-host
# MSSQL_PORT=1433
# MSSQL_USER=sa
# MSSQL_PASSWORD=your-sqlserver-password
# MSSQL_DATABASE=enterpriseglue
# MSSQL_SCHEMA=dbo
# MSSQL_ENCRYPT=true
# MSSQL_TRUST_SERVER_CERTIFICATE=false
#
# Azure SQL example:
#   MSSQL_HOST=your-server.database.windows.net
#   MSSQL_ENCRYPT=true (required for Azure)
#   MSSQL_TRUST_SERVER_CERTIFICATE=false
#
# Note: SQL Server requires the mssql npm package
# Install: npm install mssql

# =============================================================================
# Google Spanner Configuration (when DATABASE_TYPE=spanner)
# =============================================================================
# SPANNER_PROJECT_ID=your-gcp-project-id
# SPANNER_INSTANCE_ID=your-spanner-instance
# SPANNER_DATABASE_ID=enterpriseglue
#
# Note: Spanner requires @google-cloud/spanner npm package
# Install: npm install @google-cloud/spanner
# Set GOOGLE_APPLICATION_CREDENTIALS env var to service account JSON path
# For local emulator, set: SPANNER_EMULATOR_HOST=localhost:9010

# =============================================================================
# MySQL Configuration (when DATABASE_TYPE=mysql)
# =============================================================================
# Works with: MySQL, MariaDB, Amazon RDS for MySQL, Amazon Aurora MySQL
#
# MYSQL_HOST=your-mysql-host
# MYSQL_PORT=3306
# MYSQL_USER=root
# MYSQL_PASSWORD=your-mysql-password
# MYSQL_DATABASE=enterpriseglue
#
# Note: MySQL requires the mysql2 npm package
# Install: npm install mysql2

# =============================================================================
# Authentication Configuration
# =============================================================================
# Generate with: openssl rand -base64 32
JWT_SECRET=generate-a-secure-random-string-min-32-chars
JWT_ACCESS_TOKEN_EXPIRES=900
JWT_REFRESH_TOKEN_EXPIRES=604800

# Admin Bootstrap (First Run)
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=change-this-secure-password
# Set to true to allow the seeded admin (created by ADMIN_EMAIL on first run) to bypass email verification
# ADMIN_EMAIL_VERIFICATION_EXEMPT=true

# =============================================================================
# Email Service (Optional - Resend)
# =============================================================================
# RESEND_API_KEY=re_your_resend_api_key

# =============================================================================
# Camunda Configuration (Optional)
# =============================================================================
# CAMUNDA_BASE_URL=http://localhost:8080/engine-rest
# CAMUNDA_USERNAME=demo
# CAMUNDA_PASSWORD=demo

# =============================================================================
# Microsoft Entra ID (Azure AD) Configuration (Optional)
# =============================================================================
# MICROSOFT_CLIENT_ID=your-client-id
# MICROSOFT_CLIENT_SECRET=your-client-secret
# MICROSOFT_TENANT_ID=your-tenant-id
# MICROSOFT_REDIRECT_URI=http://localhost:8787/api/auth/microsoft/callback

# =============================================================================
# Google OAuth Configuration (Optional)
# =============================================================================
# GOOGLE_CLIENT_ID=your-client-id
# GOOGLE_CLIENT_SECRET=your-client-secret
# GOOGLE_REDIRECT_URI=http://localhost:8787/api/auth/google/callback

# =============================================================================
# Frontend & Environment
# =============================================================================
FRONTEND_URL=http://localhost:5173
NODE_ENV=development

# =============================================================================
# Git Versioning Configuration
# =============================================================================
GIT_REPOS_PATH=./data/repos
GIT_DEFAULT_BRANCH=main

# Encryption (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
ENCRYPTION_KEY=generate-a-64-char-hex-string

# File Lock Configuration
LOCK_TIMEOUT_MS=1800000
LOCK_HEARTBEAT_INTERVAL_MS=30000

# Push Retry Configuration
PUSH_RETRY_ATTEMPTS=3
PUSH_RETRY_DELAY_MS=5000
